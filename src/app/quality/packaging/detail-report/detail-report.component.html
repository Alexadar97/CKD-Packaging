<div class="col-md-10 innerbodyScroll" id="packagingreports">
  <br>
  <div class="main-content">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12" style="padding-top: 15px;">
          <span class="showmenuname">Detail Report</span>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="card maincard">
          <div class="col-md-12" [formGroup]="DropdownDateForm" style="margin-top: 40px;">
            <div class="col-md-3">
              <select id="regionselect2" class="form-control" (change)="changedate($event.target.value,'week')"
                formControlName="week">
                <option Value="null" selected disabled> Select Week </option>
                <ng-container *ngFor="let week of weeks2 ">

                  <option value={{week}}> Week {{week}}</option>
                </ng-container>
              </select>
              <!-- <span class="dropdown"></span> -->
            </div>
            <div class="col-md-3">
              <select id="regionselect2" class="form-control" formControlName="year"
                (change)="changedate($event.target.value,'year')">
                <option Value="null" selected disabled> Select Year </option>
                <ng-container *ngFor="let year of years2 ">
                  <option value={{year}}>{{year}}</option>
                </ng-container>
              </select>
              <!-- <span class="dropdown"></span> -->
            </div>
            <div class="col-md-4"></div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1" style="text-align:right;">
              <a class="cursor" (click)="download()">
                <img src="assets/img/xlsx.jpg" style='width:38px;'>
              </a>
            </div>
            <div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">
              <a class="cursor" (click)="getAllpdfId()">
                <img src="assets/img/pdf.png" style='width:38px;'>
              </a>
            </div>
          </div>
          <br>
          <div class="col-md-12">
            <div class="col-md-6 table-responsive" style="padding-top: 26px;">
              <table class="table  table-striped table-bordered  table1" id="myTable2">
                <thead class="text-danger">
                  <tr>
                    <th>Status</th>
                    <th>Supplier</th>
                    <th>DICV-MHE </th>
                    <th>DICV-SM</th>
                    <th>DICV-IPL </th>
                    <th>DICV-Production</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let weeklyreport of weeklyreportDatas;let index = index ;">
                    <tr>
                      <td>Completed </td>
                      <td>
                        <p>{{(weeklyreport.supplierCompleted != null) ? weeklyreport.supplierCompleted : '0'}}</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>0</p>
                      </td>
                    </tr>
                    <tr>
                      <td>Approved </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.MHECompleted != undefined) ? weeklyreport.MHECompleted : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.SMCompleted != undefined) ? weeklyreport.SMCompleted : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.IPLCompleted != undefined) ? weeklyreport.IPLCompleted : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.prodCompleted != undefined) ? weeklyreport.prodCompleted : '0'}}</p>
                      </td>
                    </tr>
                    <tr>
                      <td>Pending </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.MHEPending != undefined) ? weeklyreport.MHEPending : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.SMPending != undefined) ? weeklyreport.SMPending : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.IPLPending != undefined) ? weeklyreport.IPLPending : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.prodPending != undefined) ? weeklyreport.prodPending : '0'}}</p>
                      </td>
                    </tr>
                    <tr>
                      <td>Rejected </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.MHERejected != undefined) ? weeklyreport.MHERejected : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.SMRejected != undefined) ?weeklyreport.SMRejected : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.IPLRejected != undefined) ?weeklyreport.IPLRejected : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.prodRejected != undefined) ?weeklyreport.prodRejected : '0'}}</p>
                      </td>
                    </tr>
                    <tr>
                      <td>Reassigned </td>
                      <td>
                        <p>0</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.MHEReassigned != undefined) ?weeklyreport.MHEReassigned : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.SMReassigned != undefined) ?weeklyreport.SMReassigned : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.IPLReassigned != undefined) ?weeklyreport.IPLReassigned : '0'}}</p>
                      </td>
                      <td>
                        <p>{{(weeklyreport.prodReassigned != undefined) ?weeklyreport.prodReassigned : '0'}}</p>
                      </td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
              <br>
            </div>
            <div class=" col-md-6 reportchart">
              <div [chart]="barchart1"></div>
            </div>
          </div>
        </div>
        <br>
      </div>
    </div>
  </div>


  <div class="modal fade" id="xldownload" role="dialog" data-backdrop="static" data-keyboard="false" style="z-index: 1050 !important;">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header" style="border: none;">
          <h4 class="modal-title">Select date range</h4>
          <hr>
        </div>
        <div class="modal-body" [formGroup]="xlDownloadForm" style="padding-top: 0px !important;">
          <input class="form-control" placeholder="Select Date" bsDaterangepicker formControlName="daterange"
            [bsConfig]="{ dateInputFormat: 'DD-MM-YYYY' }">
          <small class="text-danger text-center"
            *ngIf="!xlDownloadForm.controls.daterange.valid && xlDownloadForm.controls.daterange.touched">
            Date is required</small>
        </div>
        <div class="modal-footer" style="border: none;">
          <button type="button" class="btn btn-sm" (click)="confirmXlDownload()">Download </button>
          <button type="button" class="btn btn-sm" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="pdfdownload" role="dialog" data-backdrop="static" data-keyboard="false" style="z-index: 1050 !important;">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header" style="border: none;">
          <h4 class="modal-title">Select Week and Year </h4>
          <hr>
        </div>
        <div class="modal-body" [formGroup]="pdfDownloadForm" style="padding-top: 0px !important;">
          <div>
            <label class="control-label titlesuplier ">Week</label>
            <select id="regionselect" class="form-control" formControlName="week">
              <option Value="null" selected disabled> Select Week </option>
              <ng-container *ngFor="let week of weeks ">
                <option value={{week}}> Week {{week}}</option>
              </ng-container>
            </select>
            <span class="dropdown"></span>
            <small class="text-danger"
              *ngIf="!pdfDownloadForm.controls.week.valid && pdfDownloadForm.controls.week.touched">Week
              is required</small>
          </div>
          <div>
            <label class="control-label titlesuplier ">Year</label>
            <select id="regionselect" class="form-control" formControlName="year">
              <option Value="null" selected disabled> Select Year </option>
              <ng-container *ngFor="let year of years ">
                <option value={{year}}>{{year}}</option>
              </ng-container>
            </select>
            <span class="dropdown"></span>
            <small class="text-danger"
              *ngIf="!pdfDownloadForm.controls.year.valid && pdfDownloadForm.controls.year.touched">Year
              is required</small>
          </div>
        </div>
        <div class="modal-footer" style="border: none;">

          <button type="button" class="btn btn-sm" data-dismiss="modal"> Cancel</button>
          <button type="button" class="btn btn-sm" (click)="ConfirmdownloadPDF()">Download</button>
        </div>
      </div>
    </div>
  </div>
</div>